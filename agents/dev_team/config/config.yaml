roles:
  engineer:
    prompt_path: "prompts/engineer.txt"
  qa:
    prompt_path: "prompts/qa.txt"

report:
  enabled: true

max_rounds: 5

rounds_policy:
  min_rounds: 3
  max_rounds_high_risk: 9
  high_risk_keywords:
    - "高风险"
    - "high risk"
    - "安全"
    - "security"
    - "合规"
    - "compliance"
    - "敏感"
    - "漏洞"
  high_demand_keywords:
    - "高需求"
    - "高优先级"
    - "高质量"
    - "完美"
    - "严格"
    - "必须"
    - "商用"
    - "商业"

delivery:
  max_files_per_agent: 1
  max_modules_per_agent: 1

execution:
  allow_unsafe: true

quality_gates:
  require_tests: true
  require_ui_tests: true
  require_coverage: true
  require_ui_simulation: true
  require_compliance: true

testing:
  per_file: true
  timeout: 60
  coverage_timeout: 120
  coverage_command: "pytest --cov=. --cov-report=term-missing"
  ui_test_patterns:
    - "tests/ui/**/*.py"
    - "ui/tests/**/*.py"
    - "test_ui*.py"
    - "*ui*_test.py"

ui_design:
  enabled: true
  required: true
  force_if_no_frontend: true
  tool: "nanobanna"
  allow_without_baseline: true
  baseline_path: ""
  use_internal: true
  model: "gemini-2.5-flash-image"
  comparison_required: false
  pixel_diff_threshold: 0.15
  layout_similarity_threshold: 0.75
  layout_compare_size: [192, 192]
  edge_threshold: 20
  prompt_arg: "--prompt"
  output_arg: "--output"
  baseline_name: "design_baseline.png"
  summary_enabled: true
  summary_required: true

compliance:
  enabled: true
  block_on_failure: true
  require_safe_execution: false
  max_bytes: 200000
  skip_dirs:
    - "evidence"
  deny_globs:
    - "**/*.example.*"
