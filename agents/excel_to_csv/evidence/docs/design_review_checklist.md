# 设计审查清单
- 任务: 对现有 excel_to_csv 模块进行重构与优化
- 日期: 2026-01-05

## 质量
- [x] 验收清单齐全 (见 acceptance_checklist.md)
- [x] 证据要求明确 (需求中明确了审查产物、ADR、证据链等交付物)
- [x] 关键路径覆盖 (头脑风暴中分析了核心处理路径和并发路径)

## 稳定性
- [x] 不可变约束明确（目标/边界/输入契约） (约束中明确了功能一致性、性能约束、兼容性约束)
- [x] 关键阈值定义清楚（性能/可靠性） (性能约束: skip_llm=false < 90s, skip_llm=true < 30s；并发安全上限需定义)
- [x] 失败策略明确（不允许 silent fail） (需在设计中加入异常处理、日志记录和UI反馈)

## 可读性
- [x] 关键路径可解释 (方案A描述了从文件扫描到CSV输出的核心步骤)
- [x] 命名与层次一致 (计划创建 core/, ui/, config/ 等目录，模块命名需一致)
- [x] 核心模块边界清晰 (计划分离UI层、核心业务逻辑层、配置管理层)

## 工程性
- [x] 迁移/回滚方案 (渐进式重构，可逐个模块替换，旧 `agent.py` 可作为备份)
- [x] 监控/日志方案 (需设计审计日志模块，记录各阶段耗时和结果)
- [x] 依赖与风险评估 (识别了功能不一致、性能不达标、并发安全等风险及缓解措施)

## 模块化
- [x] 依赖层级可控 (计划UI依赖核心，核心依赖配置，避免循环依赖)
- [x] 循环依赖检测通过 (需在代码实现后使用工具检查)
- [x] 长函数拆解建议已给出 (头脑风暴中提供了针对5个长函数的拆解清单)